<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<validationRuleSet
    xmlns:val="http://www.jboss.org/tools/komodo/validation/2015"
    xmlns:ddl="http://www.modeshape.org/ddl/1.0"
    xmlns:vdb="http://www.metamatrix.com/metamodels/VirtualDatabase"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.jboss.org/tools/komodo/validation/2015 http://www.jboss.org/tools/komodo/validation/2015/komodoValidation.xsd"
    xmlns="http://www.jboss.org/tools/komodo/validation/2015">

    <!-- Error 1: duplicate locale -->
    <description locale="en">This is a test validation file.</description>
    <description locale="en">Este es un archivo de validación de pruebas.</description>

    <nodeValidation jcrName="vdb:virtualDatabase">
        <!-- Error 2: duplicate locale -->
        <message locale="es">Validation rules for the 'vdb:virtualDatabase' node type.</message>
        <message locale="es">Las reglas de validación para el tipo de nodo 'vdb:virtualDatabase.'</message>

        <nameValidation id="vdb.name">
            <message locale="en">Validates the name of nodes having the 'vdb:virtualDatabase' node type.</message>
            <pattern>[a-z]*</pattern>
        </nameValidation>

        <propertyValidation jcrName="vdb:connectionType">
            <!-- Error 3: duplicate locale -->
            <message locale="nz">Validates the property 'vdb:connectionType' of the 'vdb:virtualDatabase' node type.</message>
            <message locale="nz">Validates the property 'vdb:connectionType' of the 'vdb:virtualDatabase' node type.</message>
            <requiredValidation id="vdb.connectionType.required">
                <message locale="en">The property 'vdb:connectionType' of the 'vdb:virtualDatabase' node type is required.
                </message>
            </requiredValidation>
        </propertyValidation>

        <!-- Error 4: duplicate property -->
        <propertyValidation jcrName="vdb:connectionType">
            <message locale="en">Validates the property 'vdb:connectionType' of the 'vdb:virtualDatabase' node type.</message>
            <valueValidation id="vdb:connectionType.value">
                <message locale="en">The value of property 'vdb:connectionType' is invalid.</message>
                <pattern>[a-zA-Z\-]{0,64}\.[a-zA-Z\-]{0,64}</pattern>
            </valueValidation>
        </propertyValidation>
    </nodeValidation>

    <propertyValidation jcrName="ddl:statementOption">
        <!-- Error 5: duplicate locale -->
        <message locale="ca">Validates the property 'ddl:statementOption' of any node type.</message>
        <message locale="ca">Validates the property 'ddl:statementOption' of any node type.</message>
        <valueValidation id="ddl:statementOption.value">
            <message locale="en">The value of property 'ddl:statementOption' is invalid.</message>
            <pattern>[a-zA-Z\-]{0,64}\.[a-zA-Z\-]{0,64}</pattern>
        </valueValidation>
    </propertyValidation>

    <!-- Error 6: duplicate property -->
    <propertyValidation jcrName="ddl:statementOption">
        <message locale="ab">Validates the property 'ddl:statementOption' of any node type.</message>
        <requiredValidation id="vdb.connectionType.required">
            <message locale="en">The property 'ddl:statementOption' is required.</message>
        </requiredValidation>
    </propertyValidation>

    <nodeValidation jcrName="vdb:dataRole">
        <message locale="en">Validation rules for the 'vdb:dataRole' node type.</message>
        <childValidation jcrName="vdb:permissions">
            <message locale="en">Validation rules for child node type 'vdb:permissions' of the 'vdb:dataRole' node type.
            </message>
            <childCountValidation id="vdb.dataRole.permissions.childCount">
                <message locale="en">Validation rule checking child count for node type 'vdb:permission' in the 'vdb:dataRole'
                    node type.
                </message>
                <minValue inclusive="true">0</minValue>
                <minValue inclusive="false">10.5</minValue>
            </childCountValidation>
        </childValidation>
    </nodeValidation>

    <!-- Error 7: duplicate node type -->
    <nodeValidation jcrName="vdb:dataRole">
        <message locale="ab">Validation rules for the 'vdb:dataRole' node type.</message>
        <nameValidation id="vdb:dataRole.name">
            <message locale="en">The name of 'ddl:statementOption' node is invalid.</message>
            <pattern>[a-zA-Z\-]{0,64}\.[a-zA-Z\-]{0,64}</pattern>
        </nameValidation>
    </nodeValidation>
</validationRuleSet>
